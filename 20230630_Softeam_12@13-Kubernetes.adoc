= 2023/06/30 - 12@13 Softeam - Kubernetes
Thomas SCHWENDER <icon:github[] https://github.com/Ardemius/[GitHub] / icon:twitter[role="aqua"] https://twitter.com/thomasschwender[@thomasschwender]>
// Handling GitHub admonition blocks icons
ifndef::env-github[:icons: font]
ifdef::env-github[]
:status:
:outfilesuffix: .adoc
:caution-caption: :fire:
:important-caption: :exclamation:
:note-caption: :paperclip:
:tip-caption: :bulb:
:warning-caption: :warning:
endif::[]
:imagesdir: ./images
:resourcesdir: ./resources
:source-highlighter: highlightjs
:highlightjs-languages: asciidoc
// We must enable experimental attribute to display Keyboard, button, and menu macros
:experimental:
// Next 2 ones are to handle line breaks in some particular elements (list, footnotes, etc.)
:lb: pass:[<br> +]
:sb: pass:[<br>]
// check https://github.com/Ardemius/personal-wiki/wiki/AsciiDoctor-tips for tips on table of content in GitHub
:toc: macro
:toclevels: 4
// To number the sections of the table of contents
//:sectnums:
// Add an anchor with hyperlink before the section title
:sectanchors:
// To turn off figure caption labels and numbers
:figure-caption!:
// Same for examples
//:example-caption!:
// To turn off ALL captions
// :caption:

toc::[]

12@13 pr√©sent√© par Cyril PARISOT

== Abstract

Comme il s'agit du sujet le plus demand√© du dernier sondage. 
La communaut√© Cloud est ravi de vous inviter √† une session de pr√©sentation sur Kubernetes.

Kubernetes occupe une place centrale en tant que plateforme d'orchestration de conteneurs. Il permet de g√©rer efficacement et de mani√®re √©volutive les applications conteneuris√©es dans des environnements complexes. Son adoption g√©n√©ralis√©e en fait la plateforme privil√©gi√©e pour l'orchestration de conteneurs

Venez participer √† une session interactive* sur la pr√©sentation des bases du syst√®me d‚Äôorchestration, de son histoire, son adoption et de son utilisation √† l'√©chelle
*La session sera interactive (car prise en compte de vos feedback ;), des pop-up Quiz, des BD, et m√™me des quick d√©mo si l'on a le temps. 
Nous encourageons tous les participants √† participer activement √† la discussion et au quiz pour en tirer le meilleur parti.

Rejoignez-nous le VENDREDI 30 JUIN PROCHAIN √† 12h30 √Ä 13H30

Qui peut participer ? ü§ì
Cet √©v√®nement s‚Äôadresse √† TOUS, aux d√©veloppeurs, aux ing√©nieurs DevOps, aux architectes, mais aussi aux commerciaux et managers et plus g√©n√©ralement √† toutes les personnes qui souhaitent d√©couvrir Kubernetes ou renforcer ses bases. 

Nous sommes convaincus que cette session sera b√©n√©fique pour vous et nous esp√©rons que vous pourrez vous joindre √† nous.

Belle journ√©e √† tous 

== Notes 

* Spotify a √©t√© un early adopter de Docker et des microservices
    * Ils ont m√™me cr√©√© leur propre orchestrateur : *Helios*
    * d√®s le d√©but ils ont √©t√© capables de g√©rer 10 millions de requ√™tes / sec

* K3S : une distribution "light" de Kubernetes qui prend moiti√© moins de place

Force de Kubernetes : *portabilit√©* et *open source*

* *Control plane* : le cerveau
* *Data plane* : les muscles

.Rappels de 2023/05/01 - bdh Devoxx France 2023
--
* Control plane : tout ce qui est infra pure.
    ** Ex : provisionner un cluster Kube, donc ok pour Terraform 
* Data plane : tout ce qui donn√©es √† l'int√©rieur de l'infra
    ** Provisionner tout ce qui est √† l'int√©rieur du Kube, c'est du data plane, et l√† on devrait laisser la main aux outils d√©di√©s : Helm, Kubectl ou autres.
--

image:20230630_12-13-Softeam_kubernetes_01.jpg[]

* *etcd* : le stockage du cluster, l'endroit o√π il va mettre tout son state
    ** toutes les probl√©matiques de split brain, de consortium sont associ√©es √† ce composant
    ** g√©rer le state est TRES PENIBLE
        *** Tout le control plane est p√©nible √† g√©rer (raison pour laquelle AKS, GKE, etc. propose des solutions manag√©es)

* Pour plus d'infos sur les diff√©rents composants de Kubernetes, la doc officielle est plut√¥t bien faite : +
https://kubernetes.io/docs/concepts/overview/components/

.Chaque objet dans Kubernetes a 1 chose et 1 seule √† faire
image:20230630_12-13-Softeam_kubernetes_02.jpg[]

2 sondes : 

    * *liveness* : es-tu vivant ?
    * *readiness* : est-ce que je peux t'envoyer du trafic ?

*Pourquoi utiliser Kubernetes ?*

    * open source : je suis agnostique √† ce qui se passe √† l'int√©rieur de mon cluster
    * Open source container management platform governed by the community
    * Run containers at scale, integrating networking, storage, and compute
    * take advantage of open source tools that are designed to brun on Kubernetes

*CNCF Survey 2020* : https://www.cncf.io/wp-content/uploads/2020/11/CNCF_Survey_Report_2020.pdf

.Les challenges de Kubernetes
image:20230630_12-13-Softeam_kubernetes_03.jpg[]

Cyril n'a pas eu le temps de nous faire tourner sa *DEMO*, mais cette derni√®re est disponible ici : +
https://gitlab.com/CyrilParisot/k8s-the-easy-way

* *LA BD qui a √©t√© utilis√©e pour illustrer le d√©but de la pr√©sentation* : +
https://cloud.google.com/kubernetes-engine/kubernetes-comic?hl=en
    ** Elle a √©t√© cr√©√©e par Google

[TIP]
====
* Pour une liste des *raccourcis de kubectl* : `kubectl get`
* Pour savoir quel est le container runtime utilis√© : `kubectl get nodes -o wide`
====

Pour le ROTI du talk : https://cparisot.limesurvey.net/989932






